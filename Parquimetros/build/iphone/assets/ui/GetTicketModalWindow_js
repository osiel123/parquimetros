function GetTicketModalWindow(e){function t(e){e?(indicatorTicketNumber.show(),buttonSearchTicket.visible=!1):(indicatorTicketNumber.hide(),buttonSearchTicket.visible=!0)}var i=require("/lib/network");return windowGetTicket=Ti.UI.createWindow({backgroundColor:"transparent",modal:!0,width:Ti.UI.FILL,height:Ti.UI.FILL}),viewBackgroundGetTicket=Ti.UI.createView({height:"100%",width:"100%",opacity:.3,backgroundColor:"black",touchEnabled:!0,bubbleParent:!1}),viewContainerGetTicket=Ti.UI.createView({backgroundColor:Ti.App.backgroundColor,layout:"vertical",center:{x:"50%",y:"50%"},width:"90%",height:Ti.UI.SIZE,borderRadius:4,touchEnabled:!0,bubbleParent:!1}),labelGetTicketModalTitle=Titanium.UI.createLabel({text:L("reprint"),top:"15dp",width:"90%",height:Ti.UI.SIZE,color:Ti.App.labelColor,font:{fontSize:Ti.App.fontSize},touchEnabled:!0,bubbleParent:!1}),buttonCancelReprint=Ti.UI.createButton({title:L("cancel"),width:"90%",height:"45dp",bottom:"10dp",top:"20dp",borderRadius:4,backgroundColor:Ti.App.buttonCancelColor2,color:Ti.App.buttonTextColor}),viewTicketNumber=Ti.UI.createView({top:0,height:Ti.UI.SIZE,width:"90%"}),textFieldTicketNumber=Ti.UI.createTextField({autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_ALL,keyboardType:Ti.UI.KEYBOARD_NUMBER_PAD,value:"",plate_id:"",hintText:L("enter_fine_no"),backgroundColor:Ti.App.textFieldBackgroundColor,borderColor:Ti.App.textFieldBorderColor,borderRadius:4,paddingLeft:10,height:"50dp",width:"78%",font:{fontSize:Ti.App.fontSize},left:0}),indicatorTicketNumber=Ti.UI.createActivityIndicator({style:"android"==Ti.Platform.name?Titanium.UI.ActivityIndicatorStyle.BIG:Titanium.UI.iPhone.ActivityIndicatorStyle.BIG,center:{x:"50%"}}),viewButtonSearchTicketContainer=Ti.UI.createView({right:0,width:"20%",height:Ti.UI.SIZE}),buttonSearchTicket=Ti.UI.createView({width:Ti.UI.FILL,height:"50dp",borderRadius:4,backgroundColor:Ti.App.buttonColor,color:Ti.App.buttonTextColor}),imageViewSearchTicket=Ti.UI.createImageView({bubbleParent:!0,touchEnabled:!1,image:"/images/search_icon.png",width:"25dp",height:"25dp"}),buttonSearchTicket.add(imageViewSearchTicket),viewButtonSearchTicketContainer.add(indicatorTicketNumber),viewButtonSearchTicketContainer.add(buttonSearchTicket),viewTicketNumber.add(textFieldTicketNumber),viewTicketNumber.add(viewButtonSearchTicketContainer),viewContainerGetTicket.add(labelGetTicketModalTitle),viewContainerGetTicket.add(viewTicketNumber),viewContainerGetTicket.add(buttonCancelReprint),windowGetTicket.add(viewBackgroundGetTicket),windowGetTicket.add(viewContainerGetTicket),buttonSearchTicket.addEventListener("click",function(e){"android"==Ti.Platform.name&&Ti.UI.Android.hideSoftKeyboard();var o=new Date;o-e.source.clickTime<1e3||(e.source.clickTime=o,textFieldTicketNumber.value.trim().length>0&&(t(!0),i.getTicketData({ticket_id:textFieldTicketNumber.value.trim()},function(e){0!=e?(t(!1),windowGetTicket.close(),PrintWindow=require("/ui/PrintWindow"),new PrintWindow({ticket_data:e.ticket_info,reprint:!1})):(t(!1),windowGetTicket.close(),showMessage(L("ticket_not_found")))})))}),buttonCancelReprint.addEventListener("click",function(e){windowGetTicket.close()}),buttonPlatesSerialNumber.addEventListener("touchstart",function(e){e.source.backgroundColor=Ti.App.buttonPressedColor}),buttonPlatesSerialNumber.addEventListener("touchend",function(e){e.source.backgroundColor=Ti.App.buttonColor}),buttonPlatesSerialNumber.addEventListener("touchcancel",function(e){e.source.backgroundColor=Ti.App.buttonColor}),buttonCancelReprint.addEventListener("touchstart",function(e){e.source.backgroundColor=Ti.App.buttonCancelPressedColor2}),buttonCancelReprint.addEventListener("touchend",function(e){e.source.backgroundColor=Ti.App.buttonCancelColor2}),buttonCancelReprint.addEventListener("touchcancel",function(e){e.source.backgroundColor=Ti.App.buttonCancelColor2}),windowGetTicket.addEventListener("android:back",function(e){}),windowGetTicket.addEventListener("open",function(){if("android"==Ti.Platform.name){var e=windowGetTicket.activity.actionBar;e.hide()}}),windowGetTicket}module.exports=GetTicketModalWindow;