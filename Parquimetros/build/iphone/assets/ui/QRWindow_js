function QRWindow(e){var t=Titanium.Media.createSound({url:"/raw/beep.wav"}),i=Ti.UI.createWindow({navBarHidden:!0,tabBarHidden:!0,modal:!0,backgroundColor:"transparent"});if("android"==Ti.Platform.osname){var o=require("com.mwaysolutions.barcode");o.scan({success:function(o){try{setTimeout(function(){t.play()},300)}catch(n){Ti.API.info("sound exception  ------------- "+n.toString())}if(o&&o.barcode){Ti.Media.vibrate();Ti.UI.createNotification({message:o.barcode,duration:Ti.UI.NOTIFICATION_DURATION_SHORT}).show();e.textfield.value=o.barcode,i.close()}else Ti.Media.vibrate(),i.close(),showMessage(L("error_qr_code"))},error:function(e){Ti.Media.vibrate(),i.close(),showMessage(L("error_qr_code"))},cancel:function(){i.close()}}),i.addEventListener("open",function(){i.close()})}else i.close(),showMessage(L("qr_unavailable"));return i}module.exports=QRWindow;