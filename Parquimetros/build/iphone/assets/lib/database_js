function createDatabase(){try{var e=Ti.Database.open("parquimetrosmovil");return e.execute("CREATE TABLE IF NOT EXISTS Users(Id INTEGER, UserId INTEGER, FirstName TEXT, LastName TEXT, RoleId INTEGER, Username TEXT, Email TEXT)"),e.close(),!0}catch(t){return e.close(),Ti.API.info("createDatabase Error --------------------- "+t),!1}}exports.setUser=function(e,t){if(createDatabase()){var i=Ti.Database.open("parquimetrosmovil");try{i.execute("DELETE FROM Users WHERE Id = 1;"),i.execute("INSERT INTO Users(Id, UserId, FirstName, LastName, RoleId, Username, Email) VALUES (1, '"+e.user_id+"', '"+e.first_name+"', '"+e.last_name+"', "+e.role_id+", '"+e.username+"', '"+e.email+"');"),i.close(),t(!0)}catch(o){Ti.API.info("setUser Error --------------------- "+o),i.close(),t(!1)}}},exports.selectUserName=function(e,t){if(createDatabase()){var i=Ti.Database.open("parquimetrosmovil");try{if(0==e.person){var o="",a=i.execute("SELECT Username FROM Users WHERE Id = 1;");a.isValidRow()&&(o=a.fieldByName("Username")),a.close(),i.close(),Ti.API.info("selectUserName ---------------- "+o),t(o)}else{var r="",d=i.execute('SELECT FirstName || " " || LastName As Person FROM Users WHERE Id =  1;');d.isValidRow()&&(r=d.fieldByName("Person")),d.close(),i.close(),t(r)}}catch(n){Ti.API.info("selectUserName Error --------------------- "+n),i.close(),t("")}}},exports.deleteUser=function(e){if(createDatabase()){var t=Ti.Database.open("parquimetrosmovil");try{t.execute("DELETE FROM Users WHERE Id = 1;"),t.close(),e(!0)}catch(i){Ti.API.info("deleteUser Error --------------------- "+i),t.close(),e(!1)}}};